from starlette.responses import HTMLResponse, PlainTextResponse

import butter
from butter.render import render
from components.layout import root
from components.logo import logo
from components.title import title


async def four_oh_four(request):

    if "curl/" in request.headers.get("user-agent"):
        return PlainTextResponse("", status_code=404)

    content = root("latest.cat - 404") > [
        logo(),
        title()
        > [
            "Software not found ğŸ˜¿",
            butter.svg(
                viewBox="0 0 128 128",
                style=(
                    "position: fixed; bottom: 0; left: 50%; "
                    "transform: translate(-50%, 0); height: 40vh;"
                ),
                fill="#253C78",
            )
            > [
                butter.path(
                    d="M49,59.75a2,2,0,0,0-4,0,3.08,3.08,0,0,1-3.07,3.07,2,2,0,1,0,0,4A7,7,0,0,0,47,64.67a7,7,0,0,0,5.07,2.16,2,2,0,0,0,0-4A3.08,3.08,0,0,1,49,59.75Z"
                ),
                butter.path(
                    d="M77.58,124.08a13.05,13.05,0,0,1-1.38-.52c-3.91-1.75-9.3-7.29-10.1-8.13l-.05-.06L66,115.3A12,12,0,0,0,47,116.62l0,0,0,0A12,12,0,0,0,27.51,116a3,3,0,0,0-.84.57c-2.8,2.79-7.48,7.46-12,7.46H11.75V47.66A35,35,0,0,1,13.6,36.42a2,2,0,1,0-3.79-1.28A38.94,38.94,0,0,0,7.75,47.66V126a2,2,0,0,0,2,2h4.91c3.86,0,7.42-2.11,10.34-4.48V126a2,2,0,0,0,2,2H67a2,2,0,0,0,2-2v-2.41a26.81,26.81,0,0,0,5.53,3.63,17,17,0,0,0,1.86.7,2,2,0,0,0,1.15-3.83ZM45,124H42v-2.31a2,2,0,0,0-4,0V124H35.76v-2.31a2,2,0,0,0-4,0V124H29v-.72a8,8,0,0,1,2.34-5.65l.08-.07a8.08,8.08,0,0,1,1.87-1.37l.09,0c.19-.1.39-.19.59-.27l.22-.08.5-.18.32-.08.43-.11.44-.07.34,0c.26,0,.53,0,.8,0a8,8,0,0,1,8,8Zm20,0H62v-2.31a2,2,0,0,0-4,0V124H55.77v-2.31a2,2,0,0,0-4,0V124H49v-.72a8,8,0,0,1,13.32-6h0a8.09,8.09,0,0,1,.58.57l0,0,.11.14.14.15A8,8,0,0,1,65,123.28Z"
                ),
                butter.path(
                    d="M34.21,27.09c-5.76,0-8.82,9.66-8.82,16.64,0,3.6,0,14.54,8.82,14.54a7.26,7.26,0,0,0,5.62-2.54,2,2,0,0,0-3-2.63,3.68,3.68,0,0,1-.61.56V45.77a2,2,0,0,0-4,0v8c-1.4-.84-2.82-3.24-2.82-10.09s3-12.64,4.82-12.64S39,37,39,43.73a28.85,28.85,0,0,1-.27,4.15,2,2,0,0,0,4,.58A32.88,32.88,0,0,0,43,43.73C43,36.76,40,27.09,34.21,27.09Z"
                ),
                butter.path(
                    d="M66.1,50.11a2,2,0,0,0,2.25-1.72,37.77,37.77,0,0,0,.31-4.66c0-7-3.07-16.64-8.82-16.64S51,36.76,51,43.73c0,3.6,0,14.54,8.82,14.54a7.26,7.26,0,0,0,5.7-2.63,2,2,0,1,0-3-2.59,3.71,3.71,0,0,1-.65.6V46.1a2,2,0,1,0-4,0v7.72C56.43,53,55,50.58,55,43.73s3-12.64,4.82-12.64S64.65,37,64.65,43.73a34,34,0,0,1-.27,4.13A2,2,0,0,0,66.1,50.11Z"
                ),
                butter.path(
                    d="M113.44,70.76C111.72,64,104.26,51.5,97.25,51.5a4.72,4.72,0,0,0-4,2C90.85,56.83,91.79,63.84,96.36,77c3.46,9.92,3.71,30.81-5,34.47a2,2,0,0,0,1.55,3.69c11.86-5,11-28.69,7.25-39.48-5.28-15.13-4.32-18.91-3.67-19.83.09-.13.22-.31.78-.31,3.6,0,10.5,9.11,12.31,16.24,6.21,24.5-.94,38.54-5.76,44.73C99.5,122,95.09,124,93.17,124H86.29V47.66A39.28,39.28,0,0,0,67.39,14.11l4.44-7.88a47.13,47.13,0,0,1,3.63,11.05,2,2,0,0,0,2,1.65,2,2,0,0,0,.36,0,2,2,0,0,0,1.61-2.32A53,53,0,0,0,73.65,1a2,2,0,0,0-3.47,0l-6.3,11.19a39.14,39.14,0,0,0-46.43,9.71c-.22-4.75,1.78-11.23,3.5-15.66L23.37,10a2,2,0,1,0,3.36-2.17L22.26.91a2,2,0,0,0-3.49.24c-.81,1.74-7.57,16.59-4.57,25-.41.62-.81,1.25-1.19,1.9a2,2,0,0,0,3.46,2A35.25,35.25,0,0,1,82.29,47.66V126a2,2,0,0,0,2,2h8.88c4,0,9.57-3.64,13.79-9.07C112.22,112.17,120.07,96.91,113.44,70.76Z"
                ),
            ],
        ],
    ]

    return HTMLResponse(render(content), status_code=404)
